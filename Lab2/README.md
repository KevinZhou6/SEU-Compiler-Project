# Lab2
#### 实验目的
构造LL(1)文法自顶向下语法分析程序
1. 输入字符串
2. 输出语法树(推导序列)

#### 实验内容
1. 方法
    1. 定义LL(1)文法
    2. 求出First， Follow 集
    3. 构造LL(1)分析表
    4. 根据分析表编程
2. LL(1)文法
```cpp
LL(1)文法
（1）E->TG
（2）G->+TG
（3）G->-TG
（4）G->ε
（5）T->FS
（6）S->*FS
（7）S->/FS
（8）S->ε
（9）F->(E)
（10）F->i
```
3. 构造First,Follow


|        | First | Follow      |
|--------|-------|-------------|
| E->TG  | ( , i | $, )        |
| G->+TG | +     | $,)         |
| G->-TG | -     | $,)         |
| G->ε   | ε     | $,)         |
| T->FS  | (,i   | +,-,$,)     |
| S->*FS | *     | +,-,$,)     |
| S->/FS | /     | +,-,$,)     |
| S->ε   | ε     | +,-,$,)     |
| F->(E) | (     | +,/,*,-,$,) |
| F->i   | i     | +,/,*,-,$,) |

4. 核心算法描述
    1. 先将‘$’与文法开始符E压入分析栈，并使输入字符指向input的第一位；
    2. 弹出栈顶元素v，判断v是否与输入字符相同，是转至3，否转至4；
    3. 输入字符移向input下一位，转至2；若已为最后一位转至8；
    4. 判断v是否为非终结符，是转至5；否转至9；
    5. 判断v与输入字符是否有产生式，是转至6，否转至9；
    6. 判断产生式是否为ε；是转至2，否转至7；
    7. 将产生式逆序压入分析栈中，转至2；
    8. 输出过程步骤，以及为合法字符串；
    9. 输出错误位置并结束；
5. 数据结构
    1. 使用一维数组存放非终结符和终结符
    2. 使用二位数组存放LL(1)分析表

### 构造LR(1)文法自底向上语法分析程序
1. 输入字符串
2. 输出语法树(推导序列)
3. 使用文法
    ```cpp
    （0）S’->E
    
    （1）E->E+T
    
    （2）E->T
    
    （3）T->T*F
    
    （4）T->F
    
    （5）F->(E)
    
    （6）F->i
    ```
4. 核心算法
    1. 使用两个栈，一个为状态栈一个是符号栈，最开始时，只有状态0和文法开始符号E
    2. 使用一个指针依次遍历每一个输入符号。
    3. 在action表中对应栈顶和输入符号，进行转移。如果发现表中为N，则说明匹配错误，是非法串。
    4. 如果要进行规约时，遍历产生式数组，找到使用的产生式。之后弹出对应数目的符号和状态，并将产生式头部放入栈顶。
    5. 查看Goto表，如果发现在当前状态下栈顶的非终结符满足要求，则将要转移的状态加入状态栈中。
    6. 最后如果能到达acc状态则说明满足要求为合法串。

